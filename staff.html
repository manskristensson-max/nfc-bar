<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Personalvy – Privat bar</title>
  <style>
    :root{
      --bg:#0b0c10; --panel:#121318; --muted:#2b2e3b; --green:#1f6f2d; --green-bg:#14351a;
      --red:#ff4d4d; --red-bg:#3a1212; --txt:#e9ecf1; --txt-dim:#a7b0c0; --accent:#6cf0ff;
    }
    *{box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;margin:0;background:radial-gradient(1200px 800px at 80% -20%, #122, transparent), var(--bg); color:var(--txt)}
    header{padding:14px 18px;background:linear-gradient(180deg, #121318, #0f1015); border-bottom:1px solid #1d2030;
      display:flex;align-items:center;justify-content:space-between; flex-wrap:wrap; gap:10px}
    .brand{display:flex;align-items:center;gap:12px}
    .brand .dot{width:10px;height:10px;border-radius:999px;background:var(--accent); box-shadow:0 0 12px var(--accent)}
    h1{font-size:20px; margin:0}
    .hint{opacity:.8;font-size:14px}
    main{padding:18px}
    .grid{
      display:grid;
      grid-template-columns: repeat(5, minmax(140px, 1fr));
      gap:14px; max-width:1100px; margin:0 auto;
    }
    @media (max-width:980px){ .grid{grid-template-columns: repeat(4, minmax(120px, 1fr));} }
    @media (max-width:760px){ .grid{grid-template-columns: repeat(3, minmax(110px, 1fr));} }
    @media (max-width:520px){ .grid{grid-template-columns: repeat(2, minmax(120px, 1fr));} }

    .table{
      background:var(--panel);
      border:1px solid var(--muted);
      border-radius:14px;
      padding:16px 14px;
      text-align:center;
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, border-color .2s ease, background .2s ease, box-shadow .2s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,.3);
    }
    .table:hover{ transform: translateY(-2px) }
    .name{ font-size:22px; margin-bottom:6px; letter-spacing:.5px }
    .status{ font-size:13px; opacity:.9; color:var(--txt-dim); text-transform:uppercase; letter-spacing:.6px }
    .timer{ font-size:12px; opacity:.85; margin-top:8px; color:var(--txt) }

    .table.idle{ background:var(--green-bg); border-color: #2a8b3a55; }
    .table.needs_service{
      background:var(--red-bg);
      border-color:#ff7a7a55;
      box-shadow: 0 0 0 1px #ff7a7a22, 0 0 24px rgba(255,77,77,.15);
      animation: pulse 1.2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%,100% { box-shadow: 0 0 0 1px #ff7a7a22, 0 0 14px rgba(255,77,77,.12); }
      50%     { box-shadow: 0 0 0 2px #ff7a7a33, 0 0 26px rgba(255,77,77,.25); }
    }

    .legend{max-width:1100px;margin:10px auto 0;display:flex;gap:10px;flex-wrap:wrap;font-size:13px;color:var(--txt-dim)}
    .pill{display:inline-flex;align-items:center;gap:8px;background:#151824;border:1px solid #1f2333;color:var(--txt-dim);padding:8px 10px;border-radius:999px}
    .dot{width:10px;height:10px;border-radius:999px}
    .dot.green{background:#3ad15a; box-shadow:0 0 10px #3ad15a44}
    .dot.red{background:#ff4d4d; box-shadow:0 0 10px #ff4d4d44}
  </style>

  <script type="module">
    // Din Firebase-config (oförändrad)
    const firebaseConfig = {
      apiKey: "AIzaSyDoghXoQWNjFIjfAHltWkTt7zJ1NnpqSMc",
      authDomain: "service-5083b.firebaseapp.com",
      projectId: "service-5083b",
      storageBucket: "service-5083b.appspot.com",
      messagingSenderId: "218246169130",
      appId: "1:218246169130:web:9d1a390cb39ec83dffb953",
      measurementId: "G-Z1NCJ874ER"
    };
    const BAR_ID = "privatebar";
    window.__CONFIG__ = { firebaseConfig, BAR_ID };
  </script>
  <script type="module" src="./floorplan.js?v=3" defer></script>
</head>
<body>
  <header>
    <div class="brand">
  <img src="./logo.png" alt="Bar-logotyp" style="height:42px;width:auto;border-radius:6px;box-shadow:0 0 12px rgba(108,240,255,.25)" />
  <h1>Privat bar – Personalvy</h1>
</div>
    <div class="hint">Tryck på rött bord för att återställa • Ljud vid ny kallelse</div>
  </header>
  <main>
    <div class="legend">
      <span class="pill"><span class="dot green"></span> Idle</span>
      <span class="pill"><span class="dot red"></span> Behöver service</span>
    </div>
    <audio id="ding" preload="auto">
      <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
    </audio>
    <div id="grid" class="grid"></div>
  </main>
</body>
</html>
